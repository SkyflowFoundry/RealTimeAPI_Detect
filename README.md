# OpenAI Real-Time Voice API with Skyflow Detect API Integration

## Description

With OpenAI's launch of the Real-Time API for voice interactions, the way we interact with AI systems is being revolutionized. However, this poses a potential risk of leaking sensitive data through speech. To address this, weâ€™ve integrated the **Skyflow Detect API** to act as a privacy layer between your input and the OpenAI system. 

**Skyflow Detect** monitors and restricts defined sensitive data, replacing it with bleep sounds before it reaches OpenAI's API, ensuring that no private information is shared during the interaction.

To visualize this workflow, please refer to the diagram in the same directory.

## Setup Instructions

1. **Create a Skyflow Account:**
   - You need a Skyflow account to get the necessary credentials for the Detect API.

2. **Set Up the `.env` File:**
   - Create a `.env` file in the project directory with the following variables:
     ```
     API_KEY=<your_openai_api_key>
     SKYFLOW_ACCOUNT_ID=<your_skyflow_account_id>
     BEARER_TOKEN=<your_skyflow_bearer_token>
     VAULT_ID=<your_skyflow_vault_id>
     URL=<skyflow_api_base_url>
     URL_WS=<openai_realtime_websocket_url>
     ```

3. **Install Dependencies:**
   - Run the following command to install the required dependencies:
     ```
     pip install -r requirements.txt
     ```

4. **Run the Script:**
   - To start recording and processing audio, simply run:
     ```
     python3 main.py
     ```

## Workflow

1. **Recording Audio:**
   - The system starts by recording your audio. Once the recording is completed, it sends the audio file (`input.wav`) to the Skyflow Detect API.

2. **Skyflow Detect API:**
   - The Detect API scans the audio for sensitive data, such as locations, SSN, or account numbers, and replaces the identified sensitive parts with bleep sounds. The sanitized output is saved as `processed_output.wav`.

3. **OpenAI Real-Time API:**
   - After sanitization, the processed audio is forwarded to OpenAI's Real-Time API. The OpenAI system generates a response based on the sanitized audio, which is saved as `output.wav`.

### Files

- `input.wav`: The original recorded audio.
- `processed_output.wav`: The sanitized audio file, generated by Skyflow Detect API.
- `output.wav`: The final output from the OpenAI Real-Time API.

## Feedback

We appreciate your feedback! Please feel free to share your thoughts on how we can improve this solution.

Thank you for using our integration of Skyflow Detect with OpenAI's Real-Time Voice API.
